<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Funções imediatas (IIFE) &middot; Pedro Araujo
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/hyde.css">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>


  <body>

    <div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <h1>
        <a href="/">
          Pedro Araujo
        </a>
      </h1>
      <p class="lead">Coisas sobre o mundo web, carreira e um pouco de javascript</p>
    </div>

    <nav class="sidebar-nav">
      <a class="sidebar-nav-item" href="/">Início</a>

      

      
      
        
          
        
      
        
          
            <a class="sidebar-nav-item" href="/about/">Sobre</a>
          
        
      
        
      
        
          
        
      
    </nav>

    <p>&copy; 2014. All rights reserved.</p>
  </div>
</div>


    <div class="content container">
      <div class="post">
  <h1 class="post-title">Funções imediatas (IIFE)</h1>
  <span class="post-date">25 Nov 2014</span>
  <p>Há tempos venho aprendendo e tentando entender como alguns truques em Javascript funcionam, o <strong>IIFE</strong> é um desses caras que muita vezes usamos e não sabemos o que acontece realmente. Esse trecho de código é bastante usado no Javascript funcional, resolve alguns problemas e você pode vê-lo a seguir...</p>

<!--more-->
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="p">(</span><span class="kd">function</span><span class="p">(){})()</span>
</code></pre></div>
<p>O <strong>IIFE significa &quot;Immediately-invoked function expression&quot;</strong>, ou então podemos chamar de função imediata. Como o proprio nome diz, ela executa a função imediatamente depois que criada, legal, não? Mas por que usar?</p>

<h3>Por que usar funções imediatas?</h3>

<p>Tenha em mente que variáveis em Javascript têm como escopo a função da qual elas foram definidas (podem ser acessadas somente dentro da função, jamais fora). Ao criar uma função anônima com exeucação imediata, podemos criar um escopo temporario para nossas funções e variaveis. Com isso evitamos poluição no nosso escopo global e possiveis conflitos de variaveis ou funções com o mesmo nome.</p>

<h4>Exemplo: Considere o código a seguir</h4>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">adder</span> <span class="o">=</span> <span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">myPhrase</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="p">;</span>
    <span class="k">return</span> <span class="kd">function</span><span class="p">(</span><span class="nx">x</span><span class="p">)</span> <span class="p">{</span>        
        <span class="k">return</span> <span class="nx">myPhrase</span> <span class="o">=</span> <span class="o">!!</span><span class="nx">myPhrase</span> <span class="o">?</span>  <span class="nx">myPhrase</span><span class="p">.</span><span class="nx">concat</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">,</span> <span class="nx">x</span><span class="p">)</span> <span class="o">:</span> <span class="nx">myPhrase</span><span class="p">.</span><span class="nx">concat</span><span class="p">(</span><span class="nx">x</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">})()</span>

<span class="nx">adder</span><span class="p">(</span><span class="s2">&quot;Olá&quot;</span><span class="p">);</span> <span class="c1">// &quot;Olá&quot;</span>
<span class="nx">adder</span><span class="p">(</span><span class="s2">&quot;Mundo!&quot;</span><span class="p">);</span> <span class="c1">// &quot;Olá Mundo!&quot;</span>
</code></pre></div>
<p>Em nosso exemplo, criamos uma função anônima imediata que retorna uma função que concatena uma string na variavel chamada <code>myPhrase</code>. Note que a variável criada <code>myPhrase</code> está no escopo da IIFE e não na função retornada. Portanto o <code>myPhrase</code> não é definido toda vez que invocamos a função <code>adder</code>, e então conseguimos nosso objetivo de concatenar nossas strings. Mas, o mais importante disso tudo é, que o <code>myPhrase</code> está limitado a escopo da função anônima imediata, não permitindo o seu acesso direto de maneira alguma.</p>

<p>Ok, entender seu proposito e o que ela pode nos ajudar até parece fácil, dificil é entender sua sintaxe.</p>

</div>

<div class="related">
  <h2>Posts Relacionados</h2>
  <ul class="related-posts">
    
      <li>
        <h3>
          <a href="/2014/10/28/auto-execucao-de-contrutores-javascript/">
            Auto-execução de contrutores usando keyword 'new'
            <small>28 Oct 2014</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/2014/10/14/composite-pattern-javascript/">
            Explorando o Composite pattern JavaScript
            <small>14 Oct 2014</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/2014/10/13/first-blood/">
            First Blood
            <small>13 Oct 2014</small>
          </a>
        </h3>
      </li>
    
  </ul>
</div>

<div id="disqus_thread"></div>
<script type="text/javascript">
/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
var disqus_shortname = 'pedrotcaraujo'; // required: replace example with your forum shortname

/* * * DON'T EDIT BELOW THIS LINE * * */
(function() {
  var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
                    <div class="footer">
                    </div>
                </div>
            </div>
        </div>

        <script src="http://yui.yahooapis.com/3.14.1/build/yui/yui.js"></script>
        <script>
          YUI().use('node-base', 'node-event-delegate', function (Y) {
              // This just makes sure that the href="#" attached to the <a> elements
              // don't scroll you back up the page.
              Y.one('body').delegate('click', function (e) {
                  e.preventDefault();
              }, 'a[href="#"]');
          });
        </script>

    </div>

  </body>
</html>
